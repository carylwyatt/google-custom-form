<!--
==========================================
borrowed from https://github.com/heaversm/google-custom-form
reworked for Ivy Tech Lawrence Library's ILI Request Form
==========================================

-->



<form id="input-form" action="" method="POST" target="no-target">
  <input id="input-q1" type="checkbox" value="Add to Cart" name="entry.1872902617">5-Minute Librarian Drop-In<br>
  <input id="input-q2" type="checkbox"  value="Add to Cart" name="entry.2013278331">20-Minute Quick Intro to Library Resources<br>
  <input type="checkbox" value="Add to Cart" name="entry.483319453">Introduction to Research<br>
  <input type="checkbox" value="Add to Cart" name="entry.1736637257">Library Orientation<br>
   <input type="checkbox" value="Add to Cart" name="entry.1383517523">Subject-Specific Research<br>
  <input type="checkbox" value="Add to Cart" name="entry.518912775">Annotated Bibliography<br>
    <input type="checkbox" value="Add to Cart" name="entry.420046994">Citation and Formatting<br>
  <input type="checkbox" value="Add to Cart" name="entry.1309495558">NoodleTools<br>
  Instructor's Name<input type="text" value="" name="entry.1063659628"><br>
  Instructor's Email<input type="text" value="" name="entry.1661499415"><br>
  Course Name/Number<input type="text" value="" name="entry.632794592"><br>
  Class Time<input type="text" value="" name="entry.1567052872"><br>
  Requested Date<input type="text" value="" name="entry.2061397332"><br>
  Number of Students<input type="text" value="" name="entry.1921107125"><br>
  <button id="form-submit" type="submit">SUBMIT</button>
</form>

<p id="input-feedback"></p>

<iframe src="#" id="no-target" name="no-target" style="visibility:hidden"></iframe>



<script>

//For some reason, this checks the checkboxes, but the textboxes submit themselves without needing to check for them being filled out (???)

    var isChecked = $( "input[type='checkbox']" ).serialize().replace('/\+/g','%20');

    
    $('form').one('submit',function(){
      var baseURL = 'https://docs.google.com/forms/d/e/1FAIpQLSfVHcNVMCDQeWpC2ah-nBMamu0rlBQ5xQTYKtbr59V3Hnt0kA/formResponse';
      var submitRef = '&submit=3483183719070467546';
      var submitURL = (baseURL + '?' + isChecked + submitRef);
      console.log(submitURL);
      $(this)[0].action = submitURL;
      $('#input-feedback').text('Thank You! To submit another form, change the class time and date above and hit Submit again.');
    });
</script>
